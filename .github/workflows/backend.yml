name: Deploy Backend with spring boot

on:
    push:
      branches: [main]
    pull_request:
      branches: [main]
      types: [opened, synchronize]

jobs:
    deploy:
       
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v2
            with:
              fetch-depth: 0
          - name: Deploy with Railway
            if: ${{ github.event_name == 'push' }}
            uses: bervProject/railway-deploy@main
            with:
              railway_token: f6fd8c46-09a4-4a1d-b6e1-e6cdc6b888c0
              service: "rest-api-book"
              detach: true
